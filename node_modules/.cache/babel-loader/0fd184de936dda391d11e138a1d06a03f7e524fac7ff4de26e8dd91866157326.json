{"ast":null,"code":"import _regeneratorRuntime from\"/Users/luccadimario/Desktop/awsfront/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/luccadimario/Desktop/awsfront/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import{useAuth0}from\"@auth0/auth0-react\";import{jsx as _jsx}from\"react/jsx-runtime\";var PurchaseButton=function PurchaseButton(){var _useAuth=useAuth0(),loginWithRedirect=_useAuth.loginWithRedirect,isAuthenticated=_useAuth.isAuthenticated,user=_useAuth.user;var addUser=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return fetch(\"/addUser\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({name:user.name,authID:user.sub})});case 3:_context.next=8;break;case 5:_context.prev=5;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 8:case\"end\":return _context.stop();}},_callee,null,[[0,5]]);}));return function addUser(){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"a\",{children:/*#__PURE__*/_jsx(\"button\",{onClick:!isAuthenticated?function(){return loginWithRedirect();}:function(){return addUser();},children:\"Purchase Gold\"})});};export default PurchaseButton;","map":{"version":3,"names":["useAuth0","jsx","_jsx","PurchaseButton","_useAuth","loginWithRedirect","isAuthenticated","user","addUser","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","fetch","method","headers","body","JSON","stringify","name","authID","sub","t0","console","log","stop","apply","arguments","children","onClick"],"sources":["/Users/luccadimario/Desktop/awsfront/client/src/components/PurchaseButton.js"],"sourcesContent":["import { useAuth0 } from \"@auth0/auth0-react\";\n\n\nconst PurchaseButton = () => {\n    const {loginWithRedirect, isAuthenticated, user } = useAuth0();\n    const addUser = async() => {\n        try {\n            await fetch(\"/addUser\", {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\",\n                },\n                body: JSON.stringify ({\n                    name: user.name,\n                    authID: user.sub\n                })\n            })\n        }\n        catch(error) {\n            console.log(error);\n        }\n        \n    }\n    return(\n        <a>\n        <button onClick={!isAuthenticated ? (() => loginWithRedirect()) : (() => addUser())}>\n            Purchase Gold\n        </button>\n        </a>\n        \n    )\n}\n\nexport default PurchaseButton"],"mappings":"kRAAA,OAASA,QAAQ,KAAQ,oBAAoB,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAG9C,GAAM,CAAAC,cAAc,CAAG,QAAjB,CAAAA,cAAcA,CAAA,CAAS,CACzB,IAAAC,QAAA,CAAoDJ,QAAQ,CAAC,CAAC,CAAvDK,iBAAiB,CAAAD,QAAA,CAAjBC,iBAAiB,CAAEC,eAAe,CAAAF,QAAA,CAAfE,eAAe,CAAEC,IAAI,CAAAH,QAAA,CAAJG,IAAI,CAC/C,GAAM,CAAAC,OAAO,6BAAAC,IAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAC,QAAA,SAAAF,mBAAA,GAAAG,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAAAF,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA,SAEF,CAAAC,KAAK,CAAC,UAAU,CAAE,CACpBC,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CACL,cAAc,CAAE,kBACpB,CAAC,CACDC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAE,CAClBC,IAAI,CAAElB,IAAI,CAACkB,IAAI,CACfC,MAAM,CAAEnB,IAAI,CAACoB,GACjB,CAAC,CACL,CAAC,CAAC,QAAAX,QAAA,CAAAE,IAAA,gBAAAF,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAY,EAAA,CAAAZ,QAAA,aAGFa,OAAO,CAACC,GAAG,CAAAd,QAAA,CAAAY,EAAM,CAAC,CAAC,wBAAAZ,QAAA,CAAAe,IAAA,MAAAlB,OAAA,gBAG1B,kBAjBK,CAAAL,OAAOA,CAAA,SAAAC,IAAA,CAAAuB,KAAA,MAAAC,SAAA,OAiBZ,CACD,mBACI/B,IAAA,MAAAgC,QAAA,cACAhC,IAAA,WAAQiC,OAAO,CAAE,CAAC7B,eAAe,CAAI,iBAAM,CAAAD,iBAAiB,CAAC,CAAC,GAAK,iBAAM,CAAAG,OAAO,CAAC,CAAC,EAAE,CAAA0B,QAAA,CAAC,eAErF,CAAQ,CAAC,CACN,CAAC,CAGZ,CAAC,CAED,cAAe,CAAA/B,cAAc"},"metadata":{},"sourceType":"module","externalDependencies":[]}